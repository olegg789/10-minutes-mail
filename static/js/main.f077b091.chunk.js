(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a(205)},204:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);a(151),a(176);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),s=a(40),o=a.n(s),i=[{id:"home",hash:"mail",panels:[{id:"base"},{id:"readMail",hash:""}]},{id:"profile",hash:"profile",panels:[{id:"base",hash:"/base"}]}],u=a(13),p=a.n(u),m=a(23),f=a(14),d=a(5),b=a(12),h=a.n(b);var v=Object(d.K)(function(e){var t=e.id,a=(e.platform,e.router),c=e.mailId,l=e.login,s=e.domain,o=(e.isDesktop,Object(n.useState)(null)),i=Object(f.a)(o,2),u=i[0],b=i[1],h=Object(n.useState)(null),v=Object(f.a)(h,2),E=v[0],j=v[1],k=Object(n.useState)(null),w=Object(f.a)(k,2),g=w[0],O=w[1],y=Object(n.useState)(null),x=Object(f.a)(y,2),S=x[0],M=x[1];function C(){return(C=Object(m.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.1secmail.com/api/v1/?action=readMessage&login=".concat(l,"&domain=").concat(s,"&id=").concat(c));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),b(a.from),j(a.subject),O(a.textBody),M(a.date);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){C.apply(this,arguments)}()},[]),r.a.createElement(d.s,{id:t,header:"\u041f\u0438\u0441\u044c\u043c\u043e",onClose:function(){return a.toBack()},settlingHeight:100},r.a.createElement(d.l,null,r.a.createElement(d.k,{top:"\u041e\u0442"},u),r.a.createElement(d.k,{top:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},E),r.a.createElement(d.k,{top:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0438\u0441\u044c\u043c\u0430"},g),r.a.createElement(d.k,{top:"\u0414\u0430\u0442\u0430"},S),r.a.createElement(d.i,null,r.a.createElement(d.e,{size:"l",stretched:!0,onClick:function(){return a.toBack()}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}),E=a(208),j=a(207);var k=Object(d.K)(function(e){var t=e.id,a=e.platform,n=e.router;return r.a.createElement(d.t,{id:t,header:r.a.createElement(d.u,{left:a!==d.p&&r.a.createElement(d.z,{onClick:function(){return n.toBack()}},r.a.createElement(E.a,null)),right:a===d.p&&r.a.createElement(d.z,{onClick:function(){return n.toBack()}},r.a.createElement(j.a,null))},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435"),onClose:function(){return n.toBack()},settlingHeight:100},r.a.createElement(d.g,{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",before:r.a.createElement(d.d,{size:40,src:"https://vk.com/images/community_100.png?ava=1"})},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(d.r,null,r.a.createElement(d.g,null,r.a.createElement(d.q,{header:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"},"8800")),r.a.createElement(d.g,null,r.a.createElement(d.q,{header:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439"},"555")),r.a.createElement(d.g,null,r.a.createElement(d.q,{header:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"},"3535"))))}),w=a(209),g=Object(n.lazy)(function(){return a.e(5).then(a.bind(null,215))}),O=Object(n.lazy)(function(){return a.e(6).then(a.bind(null,214))}),y=Object(d.J)(function(e){var t=e.viewWidth,a=e.router,c=Object(n.useState)("light"),l=Object(f.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(null),u=Object(f.a)(i,2),b=u[0],E=u[1],j=Object(n.useState)(null),y=Object(f.a)(j,2),x=y[0],S=y[1],M=Object(n.useState)(null),C=Object(f.a)(M,2),W=C[0],A=C[1],K=Object(n.useState)("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),V=Object(f.a)(K,2),P=V[0],B=V[1],I=Object(n.useState)([]),z=Object(f.a)(I,2),G=z[0],_=z[1],q=Object(n.useState)(!0),D=Object(f.a)(q,2),H=D[0],J=D[1],R=Object(n.useState)(null),T=Object(f.a)(R,2),U=T[0],F=T[1],N=t>=3,L=N?d.G:Object(d.I)(),Q=!0!==N;function X(){return(X=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.send("VKWebAppStorageGet",{keys:["lastMail"]});case 3:t=e.sent,B(t.keys[0].value),""!==t.keys[0].value&&J(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function Y(){return(Y=Object(m.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.1secmail.com/api/v1/?action=genRandomMailbox&count=1");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,h.a.send("VKWebAppStorageSet",{key:"lastMail",value:a[0]});case 9:B(a[0]),_([]),J(!1),F(r.a.createElement(d.D,{style:{marginBottom:-50},layout:"vertical",onClose:function(){return F(null)},before:r.a.createElement(w.a,null)},"\u041f\u043e\u0447\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430!")),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])}))).apply(this,arguments)}function Z(){return $.apply(this,arguments)}function $(){return($=Object(m.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.toPopout(r.a.createElement(d.C,null)),e.next=3,new Promise(function(e){return setTimeout(e,2e3)});case 3:a.toPopout();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(){return(ee=Object(m.a)(p.a.mark(function e(){var t,a,n,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,h.a.send("VKWebAppStorageGet",{keys:["lastMail"]});case 3:return t=e.sent,a=t.keys[0].value.split("@")[0],n=t.keys[0].value.split("@")[1],e.next=8,fetch("https://www.1secmail.com/api/v1/?action=getMessages&login=".concat(a,"&domain=").concat(n));case 8:return r=e.sent,e.next=11,r.json();case 11:return c=e.sent,_(c),e.next=15,new Promise(function(e){return setTimeout(e,5e3)});case 15:e.next=0;break;case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(){return(te=Object(m.a)(p.a.mark(function e(){var t,a,n,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(),e.next=4,h.a.send("VKWebAppStorageGet",{keys:["lastMail"]});case 4:return t=e.sent,a=t.keys[0].value.split("@")[0],n=t.keys[0].value.split("@")[1],e.next=9,fetch("https://www.1secmail.com/api/v1/?action=getMessages&login=".concat(a,"&domain=").concat(n));case 9:return r=e.sent,e.next=12,r.json();case 12:c=e.sent,_(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}function ae(){return(ae=Object(m.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("vkcom"!==t){e.next=4;break}o("vkcom_light"),e.next=9;break;case 4:return h.a.subscribe(function(e){if("VKWebAppUpdateConfig"===e.detail.type){var t=e.detail.data.scheme;o(t)}}),e.next=7,h.a.send("VKWebAppGetConfig");case 7:a=e.sent,o(a.scheme);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(){return(ne=Object(m.a)(p.a.mark(function e(t,n,r){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{E(t),S(n),A(r),a.toPanel("readMail")}catch(c){console.log(c)}case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(e){ae.apply(this,arguments)}(),function(){X.apply(this,arguments)}(),function(){ee.apply(this,arguments)}()},[]);var re=r.a.createElement(d.v,{activeModal:a.modal},r.a.createElement(v,{id:"readMail",mailId:b,login:x,domain:W,platform:L,router:a,isDesktop:N}),r.a.createElement(k,{id:"botInfo",platform:L,router:a}));return r.a.createElement(d.h,{platform:L,isWebView:!0,scheme:s},r.a.createElement(d.c,null,r.a.createElement(d.F,{header:Q&&r.a.createElement(d.x,{separator:!1}),style:{justifyContent:"center"}},r.a.createElement(d.E,{animate:!N,spaced:N,width:N?"700px":"100%",maxWidth:N?"700px":"100%"},r.a.createElement(d.j,{activeStory:a.activeView},r.a.createElement(d.H,{id:"home",activePanel:"route_modal"===a.activePanel?"base":a.activePanel,popout:a.popout,modal:re},r.a.createElement(d.w,{id:"base"},r.a.createElement(n.Suspense,{fallback:r.a.createElement(d.C,null)},r.a.createElement(g,{router:a,readMail:function(e,t,a){return function(e,t,a){return ne.apply(this,arguments)}(e,t,a)},mail:P,mails:G,disabled:H,getMails:function(){return function(){return te.apply(this,arguments)}()},getMailAdress:function(){return function(){return Y.apply(this,arguments)}()},snackbar:U,setSnackbar:function(e){return F(e)}}))),r.a.createElement(d.w,{id:"readMail"},r.a.createElement(n.Suspense,{fallback:r.a.createElement(d.C,null)},r.a.createElement(O,{router:a,mailId:b,login:x,domain:W})))))))))},{viewWidth:!0}),x=Object(s.withRouter)(y);a(203),a(204);h.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(t)}}),h.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(o.a,{structure:i},r.a.createElement(d.a,null,r.a.createElement(x,null))),document.getElementById("root")),Promise.all([a.e(3),a.e(4)]).then(a.bind(null,213)).then(function(e){e.default})}},[[150,1,2]]]);
//# sourceMappingURL=main.f077b091.chunk.js.map