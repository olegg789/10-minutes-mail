(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a(205)},204:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);a(151),a(176);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),s=a(40),i=a.n(s),o=[{id:"home",hash:"mail",panels:[{id:"base"},{id:"readMail",hash:""}]},{id:"profile",hash:"profile",panels:[{id:"base",hash:"/base"}]}],u=a(13),p=a.n(u),m=a(23),d=a(16),f=a(6),b=a(12),h=a.n(b);var v=Object(f.K)(function(e){var t=e.id,a=(e.platform,e.router),c=e.mailId,l=e.login,s=e.domain,i=(e.isDesktop,Object(n.useState)(null)),o=Object(d.a)(i,2),u=o[0],b=o[1],h=Object(n.useState)(null),v=Object(d.a)(h,2),E=v[0],j=v[1],k=Object(n.useState)(null),w=Object(d.a)(k,2),g=w[0],O=w[1],y=Object(n.useState)(null),x=Object(d.a)(y,2),S=x[0],M=x[1];function C(){return(C=Object(m.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.1secmail.com/api/v1/?action=readMessage&login=".concat(l,"&domain=").concat(s,"&id=").concat(c));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),b(a.from),j(a.subject),O(a.textBody),M(a.date);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){C.apply(this,arguments)}()},[]),r.a.createElement(f.s,{id:t,header:"\u041f\u0438\u0441\u044c\u043c\u043e",onClose:function(){return a.toBack()},settlingHeight:100},r.a.createElement(f.l,null,r.a.createElement(f.k,{top:"\u041e\u0442"},u),r.a.createElement(f.k,{top:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},E),r.a.createElement(f.k,{top:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0438\u0441\u044c\u043c\u0430"},g),r.a.createElement(f.k,{top:"\u0414\u0430\u0442\u0430"},S),r.a.createElement(f.i,null,r.a.createElement(f.e,{size:"l",stretched:!0,onClick:function(){return a.toBack()}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}),E=a(208),j=a(207);var k=Object(f.K)(function(e){var t=e.id,a=e.platform,n=e.router;return r.a.createElement(f.t,{id:t,header:r.a.createElement(f.u,{left:a!==f.p&&r.a.createElement(f.z,{onClick:function(){return n.toBack()}},r.a.createElement(E.a,null)),right:a===f.p&&r.a.createElement(f.z,{onClick:function(){return n.toBack()}},r.a.createElement(j.a,null))},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435"),onClose:function(){return n.toBack()},settlingHeight:100},r.a.createElement(f.g,{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",before:r.a.createElement(f.d,{size:40,src:"https://vk.com/images/community_100.png?ava=1"})},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(f.r,null,r.a.createElement(f.g,null,r.a.createElement(f.q,{header:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"},"8800")),r.a.createElement(f.g,null,r.a.createElement(f.q,{header:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439"},"555")),r.a.createElement(f.g,null,r.a.createElement(f.q,{header:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"},"3535"))))}),w=Object(n.lazy)(function(){return a.e(5).then(a.bind(null,214))}),g=Object(n.lazy)(function(){return a.e(6).then(a.bind(null,213))}),O=Object(f.J)(function(e){var t=e.viewWidth,a=e.router,c=Object(n.useState)("light"),l=Object(d.a)(c,2),s=l[0],i=l[1],o=Object(n.useState)(null),u=Object(d.a)(o,2),b=u[0],E=u[1],j=Object(n.useState)(null),O=Object(d.a)(j,2),y=O[0],x=O[1],S=Object(n.useState)(null),M=Object(d.a)(S,2),C=M[0],W=M[1],A=Object(n.useState)("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),K=Object(d.a)(A,2),V=K[0],P=K[1],I=Object(n.useState)([]),B=Object(d.a)(I,2),z=B[0],G=B[1],_=Object(n.useState)(!0),q=Object(d.a)(_,2),H=q[0],J=q[1],D=t>=3,R=D?f.G:Object(f.I)(),T=!0!==D;function U(){return(U=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.send("VKWebAppStorageGet",{keys:["lastMail"]});case 3:t=e.sent,P(t.keys[0].value),""!==t.keys[0].value&&J(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function F(){return(F=Object(m.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.1secmail.com/api/v1/?action=genRandomMailbox&count=1");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,h.a.send("VKWebAppStorageSet",{key:"lastMail",value:a[0]});case 9:P(a[0]),G([]),J(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}))).apply(this,arguments)}function N(){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.toPopout(r.a.createElement(f.C,null)),e.next=3,new Promise(function(e){return setTimeout(e,2e3)});case 3:a.toPopout();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(){return(Q=Object(m.a)(p.a.mark(function e(){var t,a,n,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,h.a.send("VKWebAppStorageGet",{keys:["lastMail"]});case 3:return t=e.sent,a=t.keys[0].value.split("@")[0],n=t.keys[0].value.split("@")[1],e.next=8,fetch("https://www.1secmail.com/api/v1/?action=getMessages&login=".concat(a,"&domain=").concat(n));case 8:return r=e.sent,e.next=11,r.json();case 11:return c=e.sent,G(c),e.next=15,new Promise(function(e){return setTimeout(e,5e3)});case 15:e.next=0;break;case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(){return(X=Object(m.a)(p.a.mark(function e(){var t,a,n,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(),e.next=4,h.a.send("VKWebAppStorageGet",{keys:["lastMail"]});case 4:return t=e.sent,a=t.keys[0].value.split("@")[0],n=t.keys[0].value.split("@")[1],e.next=9,fetch("https://www.1secmail.com/api/v1/?action=getMessages&login=".concat(a,"&domain=").concat(n));case 9:return r=e.sent,e.next=12,r.json();case 12:c=e.sent,G(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}function Y(){return(Y=Object(m.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("vkcom"!==t){e.next=4;break}i("vkcom_light"),e.next=9;break;case 4:return h.a.subscribe(function(e){if("VKWebAppUpdateConfig"===e.detail.type){var t=e.detail.data.scheme;i(t)}}),e.next=7,h.a.send("VKWebAppGetConfig");case 7:a=e.sent,i(a.scheme);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(){return(Z=Object(m.a)(p.a.mark(function e(t,n,r){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{E(t),x(n),W(r),a.toPanel("readMail")}catch(c){console.log(c)}case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(e){Y.apply(this,arguments)}(),function(){U.apply(this,arguments)}(),function(){Q.apply(this,arguments)}()},[]);var $=r.a.createElement(f.v,{activeModal:a.modal},r.a.createElement(v,{id:"readMail",mailId:b,login:y,domain:C,platform:R,router:a,isDesktop:D}),r.a.createElement(k,{id:"botInfo",platform:R,router:a}));return r.a.createElement(f.h,{platform:R,isWebView:!0,scheme:s},r.a.createElement(f.c,null,r.a.createElement(f.F,{header:T&&r.a.createElement(f.x,{separator:!1}),style:{justifyContent:"center"}},r.a.createElement(f.E,{animate:!D,spaced:D,width:D?"700px":"100%",maxWidth:D?"700px":"100%"},r.a.createElement(f.j,{activeStory:a.activeView},r.a.createElement(f.H,{id:"home",activePanel:"route_modal"===a.activePanel?"base":a.activePanel,popout:a.popout,modal:$},r.a.createElement(f.w,{id:"base"},r.a.createElement(n.Suspense,{fallback:r.a.createElement(f.C,null)},r.a.createElement(w,{router:a,readMail:function(e,t,a){return function(e,t,a){return Z.apply(this,arguments)}(e,t,a)},mail:V,mails:z,disabled:H,getMails:function(){return function(){return X.apply(this,arguments)}()},getMailAdress:function(){return function(){return F.apply(this,arguments)}()}}))),r.a.createElement(f.w,{id:"readMail"},r.a.createElement(n.Suspense,{fallback:r.a.createElement(f.C,null)},r.a.createElement(g,{router:a,mailId:b,login:y,domain:C})))))))))},{viewWidth:!0}),y=Object(s.withRouter)(O);a(203),a(204);h.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(t)}}),h.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(i.a,{structure:o},r.a.createElement(f.a,null,r.a.createElement(y,null))),document.getElementById("root")),Promise.all([a.e(3),a.e(4)]).then(a.bind(null,212)).then(function(e){e.default})}},[[150,1,2]]]);
//# sourceMappingURL=main.5ee73d2d.chunk.js.map