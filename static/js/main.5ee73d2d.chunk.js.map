{"version":3,"sources":["structure.js","js/components/modals/HomeBotsListModal.js","js/components/modals/HomeBotInfoModal.js","App.js","index.js"],"names":["structure","id","hash","panels","withPlatform","_ref","router","platform","mailId","login","domain","_useState","isDesktop","useState","_useState2","Object","slicedToArray","from","setFrom","_useState3","_useState4","title","setTitle","_useState5","_useState6","text","setText","_useState7","_useState8","date","setDate","_readMail","asyncToGenerator","regenerator_default","a","mark","_callee","response","responseJSON","wrap","_context","prev","next","fetch","concat","sent","json","console","log","subject","textBody","stop","apply","this","arguments","useEffect","readMail","react_default","createElement","vkui_dist","header","onClose","toBack","settlingHeight","top","size","stretched","onClick","left","IOS","cancel","right","dismiss","description","before","src","HomePanelBase","lazy","__webpack_require__","e","then","bind","HomePanelPlaceholder","App","withAdaptivity","viewWidth","scheme","setScheme","setMailId","setLogin","setDomain","_useState9","_useState10","mail","setMail","_useState11","_useState12","mails","setMails","_useState13","_useState14","disabled","setDisabled","VKCOM","usePlatform","hasHeader","_getLastMail","lastMail","bridge","send","keys","value","t0","_getMailAdress","_callee2","_context2","key","openSpinner","_openSpinner","_callee3","_context3","toPopout","Promise","resolve","setTimeout","_getMailsAuto","_callee4","_login","_domain","_context4","split","_getMails","_callee5","_login2","_domain2","_context5","_getAppScheme","_callee6","appScheme","_context6","subscribe","detail","type","data","_callee7","_context7","toPanel","err","_x","getAppScheme","getLastMail","getMailsAuto","modals","activeModal","modal","HomeBotsListModal","HomeBotInfoModal","isWebView","separator","style","justifyContent","animate","spaced","width","maxWidth","activeStory","activeView","activePanel","popout","react","fallback","_x2","_x3","_x4","getMails","getMailAdress","withRouter","schemeAttribute","document","createAttribute","body","attributes","setNamedItem","ReactDOM","render","dist_default","src_App","getElementById","all","default"],"mappings":"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","file":"static/js/main.5ee73d2d.chunk.js","sourcesContent":["const structure = [\r\n\t{\r\n\t\tid: \"home\",\r\n\t\thash: \"mail\",\r\n\t\tpanels: [\r\n\t\t\t{\r\n\t\t\t\tid: \"base\",\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tid: \"readMail\",\r\n\t\t\t\thash: ''\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\t{\r\n\t\tid: \"profile\",\r\n\t\thash: \"profile\",\r\n\t\tpanels: [\r\n\t\t\t{\r\n\t\t\t\tid: \"base\",\r\n\t\t\t\thash: '/base'\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n]\r\n\r\nexport default structure","import React, {useEffect, useState} from 'react';\r\n\r\nimport {\r\n    withPlatform,\r\n    FormLayout,\r\n    FormItem,\r\n    ModalCard,\r\n    Button,\r\n    Div,\r\n} from \"@vkontakte/vkui\";\r\n\r\nfunction BotsListModal({id, platform, router, mailId, login, domain, isDesktop}) {\r\n\r\n    const [from, setFrom] = useState(null)\r\n    const [title, setTitle] = useState(null)\r\n    const [text, setText] = useState(null)\r\n    const [date, setDate] = useState(null)\r\n\r\n    async function readMail() {\r\n        let response = await fetch(`https://www.1secmail.com/api/v1/?action=readMessage&login=${login}&domain=${domain}&id=${mailId}`)\r\n        let responseJSON = await response.json()\r\n        console.log(responseJSON)\r\n        setFrom(responseJSON.from)\r\n        setTitle(responseJSON.subject)\r\n        setText(responseJSON.textBody)\r\n        setDate(responseJSON.date)\r\n    }\r\n\r\n    useEffect(\r\n        () => {readMail()}, []\r\n    )\r\n\r\n    return (\r\n        <ModalCard\r\n            id={id}\r\n            header={\r\n                'Письмо'\r\n            }\r\n            onClose={() => router.toBack()}\r\n            settlingHeight={100}\r\n        >\r\n            <FormLayout>\r\n                <FormItem top={'От'}>\r\n                    {from}\r\n                </FormItem>\r\n                <FormItem top={'Заголовок'}>\r\n                    {title}\r\n                </FormItem>\r\n                <FormItem top={'Текст письма'}>\r\n                    {text}\r\n                </FormItem>\r\n                <FormItem top={'Дата'}>\r\n                    {date}\r\n                </FormItem>\r\n                <Div>\r\n                    <Button\r\n                        size='l'\r\n                        stretched\r\n                        onClick={() => router.toBack()}\r\n                    >\r\n                        Закрыть\r\n                    </Button>\r\n                </Div>\r\n            </FormLayout>\r\n        </ModalCard>\r\n    );\r\n}\r\n\r\nexport default withPlatform(BotsListModal);","import React from 'react';\r\n\r\nimport {\r\n    Cell, \r\n    List, \r\n    Avatar, \r\n    InfoRow, \r\n    ModalPage, \r\n    ModalPageHeader, \r\n    PanelHeaderButton, \r\n    withPlatform, \r\n    IOS\r\n} from \"@vkontakte/vkui\";\r\nimport { Icon24Dismiss, Icon24Cancel } from '@vkontakte/icons'\r\n\r\nfunction BotsListModal({id, platform, router}) {\r\n    return (\r\n        <ModalPage\r\n            id={id}\r\n            header={\r\n                <ModalPageHeader\r\n                    left={platform !== IOS && \r\n                        <PanelHeaderButton onClick={() => router.toBack()}>\r\n                            <Icon24Cancel/>\r\n                        </PanelHeaderButton>\r\n                    }\r\n\r\n                    right={platform === IOS && \r\n                        <PanelHeaderButton onClick={() => router.toBack()}>\r\n                            <Icon24Dismiss/>\r\n                        </PanelHeaderButton>\r\n                    }\r\n                >\r\n                    Информация о сообществе\r\n                </ModalPageHeader>\r\n            }\r\n            onClose={() => router.toBack()}\r\n            settlingHeight={100}\r\n        >\r\n            <Cell\r\n                description=\"Описание\"\r\n                before={<Avatar size={40} src=\"https://vk.com/images/community_100.png?ava=1\"/>}\r\n            >\r\n                Название\r\n            </Cell>\r\n\r\n            <List>\r\n                <Cell>\r\n                    <InfoRow header=\"Подписчиков\">\r\n                            8800\r\n                    </InfoRow>\r\n                </Cell>\r\n\r\n                <Cell>\r\n                    <InfoRow header=\"Записей\">\r\n                        555\r\n                    </InfoRow>\r\n                </Cell>\r\n\r\n                <Cell>\r\n                    <InfoRow header=\"Рейтинг\">\r\n                        3535\r\n                    </InfoRow>\r\n                </Cell>\r\n            </List>\r\n        </ModalPage>\r\n    );\r\n}\r\n\r\nexport default withPlatform(BotsListModal);","import React, {lazy, Suspense, useEffect, useState} from 'react';\r\nimport { withRouter } from 'react-router-vkminiapps';\r\n\r\nimport {\r\n  ConfigProvider,\r\n  AppRoot,\r\n  SplitLayout,\r\n  PanelHeader,\r\n  SplitCol,\r\n  Epic,\r\n  View,\r\n  Panel,\r\n  ModalRoot,\r\n  ScreenSpinner,\r\n  usePlatform,\r\n  VKCOM,\r\n  withAdaptivity,\r\n} from \"@vkontakte/vkui\";\r\n\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nimport HomeBotsListModal from './js/components/modals/HomeBotsListModal';\r\nimport HomeBotInfoModal from './js/components/modals/HomeBotInfoModal';\r\n\r\nconst HomePanelBase = lazy(() => import('./js/panels/home/base'));\r\nconst HomePanelPlaceholder = lazy(() => import('./js/panels/home/placeholder'));\r\n\r\nconst App = withAdaptivity(({ viewWidth, router }) => {\r\n  // eslint-disable-next-line\r\n  const setActiveView = (e) => router.toView(e.currentTarget.dataset.id)\r\n\r\n  const [scheme, setScheme] = useState('light')\r\n  const [mailId, setMailId] = useState(null)\r\n  const [login, setLogin] = useState(null)\r\n  const [domain, setDomain] = useState(null)\r\n  const [mail, setMail] = useState('Загрузка...')\r\n  const [mails, setMails] = useState([])\r\n  const [disabled, setDisabled] = useState(true)\r\n\r\n  const isDesktop = viewWidth >= 3\r\n  const platform = isDesktop ? VKCOM : usePlatform()\r\n  const hasHeader = isDesktop !== true\r\n\r\n  async function getLastMail() {\r\n    try {\r\n      let lastMail = await bridge.send(\"VKWebAppStorageGet\", {keys: ['lastMail']})\r\n      setMail(lastMail.keys[0].value)\r\n      if (lastMail.keys[0].value !== '') {\r\n        setDisabled(false)\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  async function getMailAdress() {\r\n    try {\r\n      let response = await fetch('https://www.1secmail.com/api/v1/?action=genRandomMailbox&count=1')\r\n      let responseJSON = await response.json()\r\n      await bridge.send(\"VKWebAppStorageSet\", {key: 'lastMail', value: responseJSON[0]})\r\n      setMail(responseJSON[0])\r\n      setMails([])\r\n      setDisabled(false)\r\n    }\r\n    catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  async function openSpinner() {\r\n    router.toPopout(<ScreenSpinner/>)\r\n    await new Promise(resolve => setTimeout(resolve, 2000))\r\n    router.toPopout()\r\n  }\r\n\r\n  async function getMailsAuto() {\r\n    while(true) {\r\n      let lastMail = await bridge.send(\"VKWebAppStorageGet\", {keys: ['lastMail']})\r\n      let login = lastMail.keys[0].value.split('@')[0]\r\n      let domain = lastMail.keys[0].value.split('@')[1]\r\n      let response = await fetch(`https://www.1secmail.com/api/v1/?action=getMessages&login=${login}&domain=${domain}`)\r\n      let responseJSON = await response.json()\r\n      setMails(responseJSON)\r\n      await new Promise(resolve => setTimeout(resolve, 5000))\r\n    }\r\n  }\r\n\r\n  async function getMails() {\r\n    try {\r\n      openSpinner()\r\n      let lastMail = await bridge.send(\"VKWebAppStorageGet\", {keys: ['lastMail']})\r\n      let login = lastMail.keys[0].value.split('@')[0]\r\n      let domain = lastMail.keys[0].value.split('@')[1]\r\n      let response = await fetch(`https://www.1secmail.com/api/v1/?action=getMessages&login=${login}&domain=${domain}`)\r\n      let responseJSON = await response.json()\r\n      setMails(responseJSON)\r\n    }\r\n    catch (err) {\r\n      console.log(err)\r\n    }\r\n\r\n  }\r\n\r\n  async function getAppScheme(platform) {\r\n    if (platform === 'vkcom') {\r\n      setScheme('vkcom_light')\r\n    } else {\r\n      bridge.subscribe((e) => {\r\n        if (e.detail.type === 'VKWebAppUpdateConfig') {\r\n          let data = e.detail.data.scheme\r\n          setScheme(data)\r\n        }\r\n      })\r\n      let appScheme = await bridge.send(\"VKWebAppGetConfig\")\r\n      setScheme(appScheme.scheme)\r\n    }\r\n  }\r\n\r\n  async function readMail(id, login, domain) {\r\n    try {\r\n      setMailId(id)\r\n      setLogin(login)\r\n      setDomain(domain)\r\n      router.toPanel('readMail')\r\n    }\r\n    catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {getAppScheme(); getLastMail(); getMailsAuto()}, [])\r\n\r\n  const modals = (\r\n    <ModalRoot activeModal={router.modal}>\r\n      <HomeBotsListModal\r\n        id=\"readMail\"\r\n        mailId={mailId}\r\n        login={login}\r\n        domain={domain}\r\n        platform={platform}\r\n        router={router}\r\n        isDesktop={isDesktop}\r\n      />\r\n\r\n      <HomeBotInfoModal\r\n        id=\"botInfo\"\r\n        platform={platform}\r\n        router={router}\r\n      />\r\n    </ModalRoot>\r\n  );\r\n\r\n  return(\r\n    <ConfigProvider platform={platform} isWebView scheme={scheme}>\r\n      <AppRoot>\r\n        <SplitLayout\r\n          header={hasHeader && <PanelHeader separator={false} />}\r\n          style={{ justifyContent: \"center\" }}\r\n        >\r\n          <SplitCol\r\n            animate={!isDesktop}\r\n            spaced={isDesktop}\r\n            width={isDesktop ? '700px' : '100%'}\r\n            maxWidth={isDesktop ? '700px' : '100%'}\r\n          >   \r\n            <Epic \r\n              activeStory={router.activeView}\r\n            >\r\n              <View \r\n                id='home'\r\n                activePanel={router.activePanel === 'route_modal' ? 'base' : router.activePanel}\r\n                popout={router.popout}\r\n                modal={modals}\r\n              >\r\n                <Panel id='base'>\r\n                  <Suspense fallback={<ScreenSpinner/>}>\r\n                    <HomePanelBase\r\n                        router={router}\r\n                        readMail={(id, login, domain) => readMail(id, login, domain)}\r\n                        mail={mail}\r\n                        mails={mails}\r\n                        disabled={disabled}\r\n                        getMails={() => getMails()}\r\n                        getMailAdress={() => getMailAdress()}\r\n                    />\r\n                  </Suspense>\r\n                </Panel>\r\n\r\n                <Panel id='readMail'>\r\n                  <Suspense fallback={<ScreenSpinner/>}>\r\n                    <HomePanelPlaceholder router={router} mailId={mailId} login={login} domain={domain}/>\r\n                  </Suspense>\r\n                </Panel>\r\n              </View>\r\n            </Epic>\r\n          </SplitCol>\r\n            \r\n        </SplitLayout>\r\n      </AppRoot>\r\n    </ConfigProvider>\r\n  )\r\n}, { viewWidth: true })\r\n\r\nexport default withRouter(App);","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Router from 'react-router-vkminiapps';\r\nimport structure from './structure';\r\nimport App from './App';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/main.css';\r\nimport { AdaptivityProvider } from '@vkontakte/vkui';\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nbridge.subscribe((e) => {\r\n    switch (e.detail.type) {\r\n        case 'VKWebAppUpdateConfig':\r\n            let schemeAttribute = document.createAttribute('scheme');\r\n            schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\r\n            document.body.attributes.setNamedItem(schemeAttribute);\r\n            break;\r\n\r\n        default:\r\n            break;\r\n    }\r\n})\r\n\r\nbridge.send('VKWebAppInit', {})\r\n\r\nReactDOM.render(\r\n    <Router structure={structure}>\r\n        <AdaptivityProvider>\r\n            <App/>\r\n        </AdaptivityProvider>\r\n    </Router>,\r\n    document.getElementById('root')\r\n);\r\n\r\nimport('./eruda.js').then(({ default: eruda }) => {}) "],"sourceRoot":""}