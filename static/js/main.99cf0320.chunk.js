(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){e.exports=a(206)},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);a(152),a(177);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),i=a(40),o=a.n(i),s=[{id:"home",hash:"mail",panels:[{id:"base"},{id:"readMail",hash:""}]},{id:"profile",hash:"profile",panels:[{id:"base",hash:"/base"}]}],u=a(13),p=a.n(u),m=a(22),d=a(14),f=a(6),b=a(12),h=a.n(b);var E=Object(f.J)(function(e){var t=e.id,a=(e.platform,e.router),c=e.mailId,l=e.login,i=e.domain,o=(e.isDesktop,Object(n.useState)(null)),s=Object(d.a)(o,2),u=s[0],b=s[1],h=Object(n.useState)(null),E=Object(d.a)(h,2),j=E[0],v=E[1],w=Object(n.useState)(null),O=Object(d.a)(w,2),k=O[0],y=O[1],g=Object(n.useState)(null),x=Object(d.a)(g,2),S=x[0],M=x[1];function W(){return(W=Object(m.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.1secmail.com/api/v1/?action=readMessage&login=".concat(l,"&domain=").concat(i,"&id=").concat(c));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),b(a.from),v(a.subject),y(a.textBody),M(a.date);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){W.apply(this,arguments)}()},[]),r.a.createElement(f.r,{id:t,header:"\u041f\u0438\u0441\u044c\u043c\u043e",onClose:function(){return a.toBack()},settlingHeight:100},r.a.createElement(f.k,null,r.a.createElement(f.j,{top:"\u041e\u0442"},u),r.a.createElement(f.j,{top:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},j),r.a.createElement(f.j,{top:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0438\u0441\u044c\u043c\u0430"},k),r.a.createElement(f.j,{top:"\u0414\u0430\u0442\u0430"},S),r.a.createElement(f.h,null,r.a.createElement(f.d,{size:"l",stretched:!0,onClick:function(){return a.toBack()}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}),j=a(209),v=a(208);var w=Object(f.J)(function(e){var t=e.id,a=e.platform,n=e.router;return r.a.createElement(f.s,{id:t,header:r.a.createElement(f.t,{left:a!==f.o&&r.a.createElement(f.y,{onClick:function(){return n.toBack()}},r.a.createElement(j.a,null)),right:a===f.o&&r.a.createElement(f.y,{onClick:function(){return n.toBack()}},r.a.createElement(v.a,null))},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435"),onClose:function(){return n.toBack()},settlingHeight:100},r.a.createElement(f.f,{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",before:r.a.createElement(f.c,{size:40,src:"https://vk.com/images/community_100.png?ava=1"})},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(f.q,null,r.a.createElement(f.f,null,r.a.createElement(f.p,{header:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"},"8800")),r.a.createElement(f.f,null,r.a.createElement(f.p,{header:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439"},"555")),r.a.createElement(f.f,null,r.a.createElement(f.p,{header:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"},"3535"))))}),O=Object(n.lazy)(function(){return a.e(5).then(a.bind(null,215))}),k=Object(n.lazy)(function(){return a.e(6).then(a.bind(null,214))}),y=Object(f.I)(function(e){var t=e.viewWidth,a=e.router,c=Object(n.useState)("light"),l=Object(d.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(null),u=Object(d.a)(s,2),b=u[0],j=u[1],v=Object(n.useState)(null),y=Object(d.a)(v,2),g=y[0],x=y[1],S=Object(n.useState)(null),M=Object(d.a)(S,2),W=M[0],B=M[1],A=Object(n.useState)("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),C=Object(d.a)(A,2),V=C[0],I=C[1],P=Object(n.useState)([]),K=Object(d.a)(P,2),z=K[0],G=K[1],J=Object(n.useState)(!0),_=Object(d.a)(J,2),D=_[0],H=_[1],R=t>=3,U=R?f.F:Object(f.H)(),q=!0!==R;function F(){return(F=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.send("VKWebAppStorageGet",{keys:["lastMail"]});case 2:t=e.sent,I(t.keys[0].value),""!==t.keys[0].value&&H(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return(N=Object(m.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.1secmail.com/api/v1/?action=genRandomMailbox&count=1");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,h.a.send("VKWebAppStorageSet",{key:"lastMail",value:a[0]});case 8:I(a[0]),G([]),H(!1);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.toPopout(r.a.createElement(f.B,null)),e.next=3,new Promise(function(e){return setTimeout(e,2e3)});case 3:a.toPopout();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=Object(m.a)(p.a.mark(function e(){var t,a,n,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T(),e.next=3,h.a.send("VKWebAppStorageGet",{keys:["lastMail"]});case 3:return t=e.sent,a=t.keys[0].value.split("@")[0],n=t.keys[0].value.split("@")[1],e.next=8,fetch("https://www.1secmail.com/api/v1/?action=getMessages&login=".concat(a,"&domain=").concat(n));case 8:return r=e.sent,e.next=11,r.json();case 11:c=e.sent,G(c);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(){return(Y=Object(m.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("vkcom"!==t){e.next=4;break}o("vkcom_light"),e.next=9;break;case 4:return h.a.subscribe(function(e){if("VKWebAppUpdateConfig"===e.detail.type){var t=e.detail.data.scheme;o(t)}}),e.next=7,h.a.send("VKWebAppGetConfig");case 7:a=e.sent,o(a.scheme);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(){return(Z=Object(m.a)(p.a.mark(function e(t,n,r){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j(t),x(n),B(r),a.toPanel("readMail");case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(e){Y.apply(this,arguments)}(),function(){F.apply(this,arguments)}(),Q()},[]);var $=r.a.createElement(f.u,{activeModal:a.modal},r.a.createElement(E,{id:"readMail",mailId:b,login:g,domain:W,platform:U,router:a,isDesktop:R}),r.a.createElement(w,{id:"botInfo",platform:U,router:a}));return r.a.createElement(f.g,{platform:U,isWebView:!0,scheme:i},r.a.createElement(f.b,null,r.a.createElement(f.E,{header:q&&r.a.createElement(f.w,{separator:!1}),style:{justifyContent:"center"}},r.a.createElement(f.D,{animate:!R,spaced:R,width:R?"560px":"100%",maxWidth:R?"560px":"100%"},r.a.createElement(f.i,{activeStory:a.activeView},r.a.createElement(f.G,{id:"home",activePanel:"route_modal"===a.activePanel?"base":a.activePanel,popout:a.popout,modal:$},r.a.createElement(f.v,{id:"base"},r.a.createElement(n.Suspense,{fallback:r.a.createElement(f.B,null)},r.a.createElement(O,{router:a,readMail:function(e,t,a){return function(e,t,a){return Z.apply(this,arguments)}(e,t,a)},mail:V,mails:z,disabled:D,getMails:function(){return Q()},getMailAdress:function(){return function(){return N.apply(this,arguments)}()}}))),r.a.createElement(f.v,{id:"readMail"},r.a.createElement(n.Suspense,{fallback:r.a.createElement(f.B,null)},r.a.createElement(k,{router:a,mailId:b,login:g,domain:W})))))))))},{viewWidth:!0}),g=Object(i.withRouter)(y);a(204),a(205);h.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(t)}}),h.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(o.a,{structure:s},r.a.createElement(f.a,null,r.a.createElement(g,null))),document.getElementById("root")),Promise.all([a.e(3),a.e(4)]).then(a.bind(null,213)).then(function(e){e.default})}},[[151,1,2]]]);